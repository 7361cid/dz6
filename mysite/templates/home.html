{% extends 'base.html' %}

{% block title %}Home{% endblock %}

{% block content %}
<div class="search">
    <form name="search" action="#" method="get">
        <input type="text" name="q" placeholder="Search"><button type="submit">GO</button>
    </form>
</div>
{% if user.is_authenticated %}
  <p><a href="{% url 'logout' %}">Log Out </a>  <a href="{% url 'user' pk=user.id %}">Your page </a></p>
{% else %}
  <div class="login"><a href="{% url 'login' %}">Log In</a> <button onclick="window.location.href = '{% url 'signup' %}';">Sign up</button></div>
{% endif %}
{% endblock %}
{% block content_center %}
{% for q in paginator.object_list %}
     <li class="list-group-item text-center"><a href="{% url 'question' pk=q.id %}">{{ q.title }}</a></li>
{% endfor %}
</div>
    <ul class="pagination">
    {% if paginator.has_previous %}
        <li>
            <span><a href="/home/{{ paginator.previous_page_number }}">Previous</a></span>
        </li>
    {% endif %}
        <li class="pagination">
            <span>Page {{ paginator.number }} of {{ paginator.paginator.num_pages }}.</span>
        </li>
    {% if paginator.has_next %}
        <li class="pagination">
            <span><a href="/home/{{ paginator.next_page_number }}">Next</a></span>
        </li>
    {% endif %}
    </ul>

{% endblock %}

{% block sidebar %}
{% if request.user.is_authenticated %}
    <p><button onclick="window.location.href = '{% url 'question_new' %}';">Ask!</button></p>
{% else %}
    <p><button onclick="window.location.href = '{% url 'login' %}';">Ask!</button></p>
{% endif %}
<h1> Trending </h1>
  {% for q in  questions_trends  %}
    <li class="list-group-item text-center"><a href="{% url 'question' pk=q.id %}">{{ q.title }}</a></li>
{% endfor %}
{% endblock %}